#pragma once

#include "jevmachopp/Common.h"

#include <cstdint>
#include <mach/machine.h>

#include <fmt/format.h>

enum class CpuSubType : std::int32_t
{
    ANY = CPU_SUBTYPE_ANY,
    VAX_ALL = CPU_SUBTYPE_VAX_ALL,
    VAX780 = CPU_SUBTYPE_VAX780,
    VAX785 = CPU_SUBTYPE_VAX785,
    VAX750 = CPU_SUBTYPE_VAX750,
    VAX730 = CPU_SUBTYPE_VAX730,
    UVAXI = CPU_SUBTYPE_UVAXI,
    UVAXII = CPU_SUBTYPE_UVAXII,
    VAX8200 = CPU_SUBTYPE_VAX8200,
    VAX8500 = CPU_SUBTYPE_VAX8500,
    VAX8600 = CPU_SUBTYPE_VAX8600,
    VAX8650 = CPU_SUBTYPE_VAX8650,
    VAX8800 = CPU_SUBTYPE_VAX8800,
    UVAXIII = CPU_SUBTYPE_UVAXIII,
    MC680x0_ALL = CPU_SUBTYPE_MC680x0_ALL,
    MC68030 = CPU_SUBTYPE_MC68030,
    MC68040 = CPU_SUBTYPE_MC68040,
    MC68030_ONLY = CPU_SUBTYPE_MC68030_ONLY,
    I386_ALL = CPU_SUBTYPE_I386_ALL,
    I386 = CPU_SUBTYPE_386,
    I486 = CPU_SUBTYPE_486,
    I486SX = CPU_SUBTYPE_486SX,
    I586 = CPU_SUBTYPE_586,
    PENT = CPU_SUBTYPE_PENT,
    PENTPRO = CPU_SUBTYPE_PENTPRO,
    PENTII_M3 = CPU_SUBTYPE_PENTII_M3,
    PENTII_M5 = CPU_SUBTYPE_PENTII_M5,
    CELERON = CPU_SUBTYPE_CELERON,
    CELERON_MOBILE = CPU_SUBTYPE_CELERON_MOBILE,
    PENTIUM_3 = CPU_SUBTYPE_PENTIUM_3,
    PENTIUM_3_M = CPU_SUBTYPE_PENTIUM_3_M,
    PENTIUM_3_XEON = CPU_SUBTYPE_PENTIUM_3_XEON,
    PENTIUM_M = CPU_SUBTYPE_PENTIUM_M,
    PENTIUM_4 = CPU_SUBTYPE_PENTIUM_4,
    PENTIUM_4_M = CPU_SUBTYPE_PENTIUM_4_M,
    ITANIUM = CPU_SUBTYPE_ITANIUM,
    ITANIUM_2 = CPU_SUBTYPE_ITANIUM_2,
    XEON = CPU_SUBTYPE_XEON,
    XEON_MP = CPU_SUBTYPE_XEON_MP,
    X86_ALL = CPU_SUBTYPE_X86_ALL,
    X86_64_ALL = CPU_SUBTYPE_X86_64_ALL,
    X86_ARCH1 = CPU_SUBTYPE_X86_ARCH1,
    X86_64_H = CPU_SUBTYPE_X86_64_H,
    MIPS_ALL = CPU_SUBTYPE_MIPS_ALL,
    MIPS_R2300 = CPU_SUBTYPE_MIPS_R2300,
    MIPS_R2600 = CPU_SUBTYPE_MIPS_R2600,
    MIPS_R2800 = CPU_SUBTYPE_MIPS_R2800,
    MIPS_R2000a = CPU_SUBTYPE_MIPS_R2000a,
    MIPS_R2000 = CPU_SUBTYPE_MIPS_R2000,
    MIPS_R3000a = CPU_SUBTYPE_MIPS_R3000a,
    MIPS_R3000 = CPU_SUBTYPE_MIPS_R3000,
    MC98000_ALL = CPU_SUBTYPE_MC98000_ALL,
    MC98601 = CPU_SUBTYPE_MC98601,
    HPPA_ALL = CPU_SUBTYPE_HPPA_ALL,
    HPPA_7100 = CPU_SUBTYPE_HPPA_7100,
    HPPA_7100LC = CPU_SUBTYPE_HPPA_7100LC,
    MC88000_ALL = CPU_SUBTYPE_MC88000_ALL,
    MC88100 = CPU_SUBTYPE_MC88100,
    MC88110 = CPU_SUBTYPE_MC88110,
    SPARC_ALL = CPU_SUBTYPE_SPARC_ALL,
    I860_ALL = CPU_SUBTYPE_I860_ALL,
    I860_860 = CPU_SUBTYPE_I860_860,
    POWERPC_ALL = CPU_SUBTYPE_POWERPC_ALL,
    POWERPC_601 = CPU_SUBTYPE_POWERPC_601,
    POWERPC_602 = CPU_SUBTYPE_POWERPC_602,
    POWERPC_603 = CPU_SUBTYPE_POWERPC_603,
    POWERPC_603e = CPU_SUBTYPE_POWERPC_603e,
    POWERPC_603ev = CPU_SUBTYPE_POWERPC_603ev,
    POWERPC_604 = CPU_SUBTYPE_POWERPC_604,
    POWERPC_604e = CPU_SUBTYPE_POWERPC_604e,
    POWERPC_620 = CPU_SUBTYPE_POWERPC_620,
    POWERPC_750 = CPU_SUBTYPE_POWERPC_750,
    POWERPC_7400 = CPU_SUBTYPE_POWERPC_7400,
    POWERPC_7450 = CPU_SUBTYPE_POWERPC_7450,
    POWERPC_970 = CPU_SUBTYPE_POWERPC_970,
    ARM_ALL = CPU_SUBTYPE_ARM_ALL,
    ARM_V4T = CPU_SUBTYPE_ARM_V4T,
    ARM_V6 = CPU_SUBTYPE_ARM_V6,
    ARM_V5TEJ = CPU_SUBTYPE_ARM_V5TEJ,
    ARM_XSCALE = CPU_SUBTYPE_ARM_XSCALE,
    ARM_V7 = CPU_SUBTYPE_ARM_V7,
    ARM_V7F = CPU_SUBTYPE_ARM_V7F,
    ARM_V7S = CPU_SUBTYPE_ARM_V7S,
    ARM_V7K = CPU_SUBTYPE_ARM_V7K,
    ARM_V8 = CPU_SUBTYPE_ARM_V8,
    ARM_V6M = CPU_SUBTYPE_ARM_V6M,
    ARM_V7M = CPU_SUBTYPE_ARM_V7M,
    ARM_V7EM = CPU_SUBTYPE_ARM_V7EM,
    ARM_V8M = CPU_SUBTYPE_ARM_V8M,
    ARM64_ALL = CPU_SUBTYPE_ARM64_ALL,
    ARM64_V8 = CPU_SUBTYPE_ARM64_V8,
    ARM64E = CPU_SUBTYPE_ARM64E,
    ARM64_32_ALL = CPU_SUBTYPE_ARM64_32_ALL,
    ARM64_32_V8 = CPU_SUBTYPE_ARM64_32_V8,
};

template <> struct fmt::formatter<CpuSubType> {

    template <typename ParseContext> constexpr auto parse(ParseContext &ctx) {
        return ctx.begin();
    }

    template <typename FormatContext> auto format(CpuSubType const &subtype, FormatContext &ctx) {
        return fmt::format_to(ctx.out(), "<CpuSubType ({:#010x})>"_cf, as_unsigned(subtype));
    }
};
